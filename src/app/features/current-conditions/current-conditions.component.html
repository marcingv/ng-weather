<div class="flex flex-col gap-4">
  <div
    *ngFor="let location of currentConditionsByZip()"
    class="app-panel flex gap-4 justify-between"
    (click)="showForecast(location.zip)">
    <div>
      <h3 class="text-xl mb-4">
        {{ location.data.name }} ({{ location.zip }})
      </h3>

      <h4 class="mb-1">
        Current conditions:
        <span class="font-thin">{{ location.data.weather[0].main }}</span>
      </h4>

      <h4>Temperatures today:</h4>
      <p>
        Current {{ location.data.main.temp | number: '.0-0' }} - Max
        {{ location.data.main.temp_max | number: '.0-0' }} - Min
        {{ location.data.main.temp_min | number: '.0-0' }}
      </p>

      <a
        appButton="secondary"
        [routerLink]="[Paths.ROOT, Paths.FORECAST, location.zip]"
        class="mt-8 font-normal hover:underline">
        Show 5-day forecast for {{ location.data.name }}
      </a>
    </div>

    <div class="flex flex-col items-end">
      <button
        appButton="transparent"
        (click)="onRemoveLocation($event, location.zip)"
        class="!p-1 flex items-center justify-center border leading-none size-8">
        &times;
      </button>

      <img
        [src]="weatherService.getWeatherIcon(location.data.weather[0].id)"
        alt="Weather conditions"
        class="size-36" />
    </div>
  </div>
</div>
